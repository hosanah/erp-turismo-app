<!-- calendar.component.html -->
<div class="calendar-container card">
  <h2 class="page-title">Calendário de Eventos</h2>

  <!-- Use FullCalendar component -->
  <full-calendar 
    [options]="calendarOptions">
  </full-calendar>

  <!-- Dialog for adding/editing events -->
  <p-dialog 
    header="{{ eventDialogMode === 'add' ? 'Adicionar Evento' : 'Editar Evento' }}" 
    [(visible)]="displayEventDialog" 
    [modal]="true" 
    [style]="{width: '50vw'}" 
    [draggable]="false" 
    [resizable]="false">
    
    <form [formGroup]="eventForm" (ngSubmit)="saveEvent()">
      <div class="field">
        <label for="title">Título</label>
        <input id="title" type="text" pInputText formControlName="title" class="w-full">
        <!-- Add validation messages -->
      </div>
      
      <div class="grid">
        <div class="col-12 md:col-6">
          <div class="field">
            <label for="start">Início</label>
            <p-calendar id="start" formControlName="start" [showTime]="true" dateFormat="dd/mm/yy" styleClass="w-full"></p-calendar>
          </div>
        </div>
        <div class="col-12 md:col-6">
          <div class="field">
            <label for="end">Fim</label>
            <p-calendar id="end" formControlName="end" [showTime]="true" dateFormat="dd/mm/yy" styleClass="w-full"></p-calendar>
          </div>
        </div>
      </div>

      <div class="field">
        <label for="description">Descrição</label>
        <textarea id="description" pInputTextarea formControlName="description" rows="3" class="w-full"></textarea>
      </div>

      <!-- Add fields for Type, Driver, Vehicle, Partner, Clients, etc. -->
      <!-- Example: -->
      <div class="field">
        <label for="type">Tipo</label>
        <p-dropdown 
          id="type" 
          formControlName="type" 
          [options]="eventTypes" 
          placeholder="Selecione o tipo" 
          optionLabel="label" 
          optionValue="value" 
          styleClass="w-full">
        </p-dropdown>
      </div>

      <div class="flex justify-content-end mt-4">
        <p-button type="button" label="Cancelar" icon="pi pi-times" (click)="displayEventDialog=false" styleClass="p-button-text"></p-button>
        <p-button type="submit" label="Salvar" icon="pi pi-check" [disabled]="eventForm.invalid"></p-button>
      </div>
    </form>
  </p-dialog>

</div>
