<div class="h-screen bg-background dark:bg-gray-900 border-r dark:border-gray-800 w-64 flex flex-col fixed left-0 top-0 z-40 hidden md:flex">
  <div class="px-6 h-16 flex items-center border-b dark:border-gray-800">
    <span class="text-xl font-bold text-primary">
      {{ company?.name || "ERP Turismo" }}
    </span>
  </div>

  <div class="flex-1 flex flex-col overflow-y-auto">
    <nav class="flex-1 px-3 py-4">
      <ng-container *ngFor="let item of menuItems">
        <a *ngIf="!item.items && hasPermission(item.roles)"
           [routerLink]="item.routerLink"
           routerLinkActive="bg-accent text-accent-foreground"
           [routerLinkActiveOptions]="{exact: true}"
           class="flex items-center px-3 py-2 mb-1 text-sm font-medium rounded-md text-foreground hover:bg-accent/50 hover:text-accent-foreground">
          <i [class]="'mr-3 ' + item.icon" style="font-size: 1rem;"></i>
          <span>{{ item.label }}</span>
        </a>
      </ng-container>
    </nav>

    <div class="p-4 border-t dark:border-gray-800">
      <button pButton type="button" label="Sair" icon="pi pi-sign-out" class="p-button-outlined w-full" (click)="logout()"></button>
    </div>
  </div>
</div>

<p-sidebar [(visible)]="mobileSidebarVisible" (visibleChange)="mobileSidebarVisibleChange.emit($event)" [showCloseIcon]="true" styleClass="w-64">
  <ng-template pTemplate="header">
    <div class="flex items-center p-4">
      <span class="text-xl font-semibold">Menu</span>
    </div>
  </ng-template>
  <nav class="flex-1 px-3 py-4">
      <ng-container *ngFor="let item of menuItems">
        <a *ngIf="!item.items && hasPermission(item.roles)"
           [routerLink]="item.routerLink"
           routerLinkActive="bg-accent text-accent-foreground"
           [routerLinkActiveOptions]="{exact: true}"
           (click)="mobileSidebarVisible = false"
           class="flex items-center px-3 py-2 mb-1 text-sm font-medium rounded-md text-foreground hover:bg-accent/50 hover:text-accent-foreground">
          <i [class]="'mr-3 ' + item.icon" style="font-size: 1rem;"></i>
          <span>{{ item.label }}</span>
        </a>
      </ng-container>
    </nav>
    <div class="p-4 border-t dark:border-gray-800">
      <button pButton type="button" label="Sair" icon="pi pi-sign-out" class="p-button-outlined w-full" (click)="logout()"></button>
    </div>
</p-sidebar>

